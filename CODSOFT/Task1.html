<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Flow - Login & Signup</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            line-height: 1.2;
        }

        p {
            font-size: 1rem;
            line-height: 1.5;
        }

        .screen {
            display: none;
            min-height: 100vh;
            padding: 1rem;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.4s ease-in-out;
        }

        .screen.active {
            display: flex;
        }

        .login-screen { background: linear-gradient(135deg, #dbeafe 0%, #c7d2fe 100%); }
        .signup-screen { background: linear-gradient(135deg, #fae8ff 0%, #fbcfe8 100%); }
        .verification-screen { background: linear-gradient(135deg, #fae8ff 0%, #fbcfe8 100%); }
        .password-screen { background: linear-gradient(135deg, #fae8ff 0%, #fbcfe8 100%); }
        .forgot-password-screen { background: linear-gradient(135deg, #dbeafe 0%, #c7d2fe 100%); }
        .success-screen { background: linear-gradient(135deg, #dcfce7 0%, #a7f3d0 100%); }

        .card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            padding: 2rem;
            width: 100%;
            max-width: 28rem;
            animation: scaleIn 0.4s ease-in-out;
        }

        .card-header {
            text-align: center;
            margin-bottom: 2rem;
            animation: slideDown 0.4s ease-in-out 0.1s both;
        }

        .card-header h1 {
            margin-bottom: 0.5rem;
        }

        .card-header p {
            color: #6b7280;
        }

        .alert {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            animation: slideDown 0.3s ease-in-out;
        }

        .alert-error {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #991b1b;
        }

        .alert-success {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #166534;
        }

        .alert-icon {
            width: 1.25rem;
            height: 1.25rem;
            flex-shrink: 0;
            margin-top: 0.125rem;
        }

        .alert-message {
            flex: 1;
        }

        .alert-close {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            color: inherit;
        }

        .social-buttons {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            animation: slideUp 0.4s ease-in-out 0.15s both;
        }

        .social-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            background: white;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 0.875rem;
            color: #374151;
        }

        .social-btn:hover {
            background: #f9fafb;
        }

        .divider {
            position: relative;
            margin: 1.5rem 0;
            text-align: center;
            animation: fadeIn 0.4s ease-in-out 0.2s both;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #d1d5db;
        }

        .divider span {
            position: relative;
            background: white;
            padding: 0 1rem;
            color: #6b7280;
            font-size: 0.875rem;
        }

        .form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .input-group {
            animation: slideLeft 0.4s ease-in-out both;
        }

        .input-group:nth-child(1) { animation-delay: 0.25s; }
        .input-group:nth-child(2) { animation-delay: 0.3s; }

        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            color: #374151;
            font-size: 0.875rem;
            transition: color 0.2s;
        }

        .input-wrapper {
            position: relative;
        }

        .input-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            width: 1.25rem;
            height: 1.25rem;
            color: #9ca3af;
            transition: color 0.2s;
        }

        .input-field {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: all 0.2s;
            outline: none;
        }

        .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .input-field:focus + .input-icon {
            color: #3b82f6;
        }

        .input-field.purple:focus {
            border-color: #a855f7;
            box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.1);
        }

        .input-field.purple:focus + .input-icon {
            color: #a855f7;
        }

        .input-field.has-right-icon {
            padding-right: 3rem;
        }

        .input-right-icon {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            color: #9ca3af;
        }

        .input-right-icon:hover {
            color: #6b7280;
        }

        .input-helper {
            margin-top: 0.5rem;
            text-align: right;
        }

        .link {
            color: #3b82f6;
            cursor: pointer;
            font-size: 0.875rem;
            text-decoration: none;
            transition: color 0.2s;
        }

        .link:hover {
            color: #2563eb;
        }

        .link.purple {
            color: #a855f7;
        }

        .link.purple:hover {
            color: #9333ea;
        }

        .btn {
            width: 100%;
            padding: 0.75rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            animation: slideUp 0.4s ease-in-out both;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-primary:hover {
            background: #2563eb;
        }

        .btn-primary.purple {
            background: #a855f7;
        }

        .btn-primary.purple:hover {
            background: #9333ea;
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn:nth-child(3) { animation-delay: 0.35s; }
        .btn:nth-child(4) { animation-delay: 0.4s; }

        .spinner {
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid white;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .footer-text {
            text-align: center;
            margin-top: 1.5rem;
            color: #6b7280;
            animation: fadeIn 0.4s ease-in-out 0.5s both;
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #6b7280;
            background: none;
            border: none;
            cursor: pointer;
            margin-bottom: 1.5rem;
            padding: 0;
            font-size: 0.875rem;
            transition: color 0.2s;
        }

        .back-btn:hover {
            color: #374151;
        }

        .verification-inputs {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin: 1.5rem 0;
        }

        .verification-input {
            width: 3rem;
            height: 3.5rem;
            text-align: center;
            border: 2px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1.5rem;
            transition: all 0.2s;
        }

        .verification-input:focus {
            outline: none;
            border-color: #a855f7;
            box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.1);
        }

        .timer {
            text-align: center;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            color: #a855f7;
        }

        .timer.warning {
            color: #dc2626;
        }

        .password-strength {
            margin-top: 1rem;
        }

        .strength-bar {
            width: 100%;
            height: 0.5rem;
            background: #e5e7eb;
            border-radius: 9999px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .strength-fill {
            height: 100%;
            transition: width 0.3s, background 0.3s;
        }

        .strength-fill.weak { width: 33%; background: #ef4444; }
        .strength-fill.good { width: 66%; background: #eab308; }
        .strength-fill.strong { width: 100%; background: #22c55e; }

        .strength-label {
            font-size: 0.875rem;
        }

        .strength-label.weak { color: #dc2626; }
        .strength-label.good { color: #ca8a04; }
        .strength-label.strong { color: #16a34a; }

        .requirements {
            background: #f9fafb;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
        }

        .requirements p {
            margin-bottom: 0.5rem;
            color: #374151;
            font-size: 0.875rem;
        }

        .requirement {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .requirement svg {
            width: 1rem;
            height: 1rem;
            flex-shrink: 0;
        }

        .requirement.met {
            color: #16a34a;
        }

        .requirement.unmet {
            color: #6b7280;
        }

        .requirement.met svg {
            color: #22c55e;
        }

        .requirement.unmet svg {
            color: #d1d5db;
        }

        .success-icon {
            width: 5rem;
            height: 5rem;
            background: #dcfce7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            animation: scaleIn 0.5s ease-in-out 0.2s both;
        }

        .success-icon svg {
            width: 3rem;
            height: 3rem;
            color: #16a34a;
        }

        .demo-note {
            text-align: center;
            color: #6b7280;
            font-size: 0.875rem;
            margin-top: 0.5rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @media (max-width: 640px) {
            .card {
                padding: 1.5rem;
            }

            h1 {
                font-size: 1.5rem;
            }

            .verification-input {
                width: 2.5rem;
                height: 3rem;
                font-size: 1.25rem;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="screen login-screen active" id="loginScreen">
        <div class="card">
            <div class="card-header">
                <h1>Welcome Back</h1>
                <p>Log in to your account</p>
            </div>

            <div id="loginAlert"></div>

            <div class="social-buttons">
                <button class="social-btn" onclick="handleSocialLogin('google')">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M19.8055 10.2292C19.8055 9.55057 19.7501 8.86849 19.6323 8.19818H10.2002V12.0492H15.6014C15.3775 13.2911 14.6571 14.3898 13.6025 15.0879V17.5866H16.8252C18.7176 15.8449 19.8055 13.2728 19.8055 10.2292Z" fill="#4285F4"/>
                        <path d="M10.2002 20.0006C12.9517 20.0006 15.2726 19.1151 16.8289 17.5865L13.6062 15.0879C12.7102 15.6979 11.5548 16.0433 10.2039 16.0433C7.54363 16.0433 5.28179 14.2834 4.48795 11.9097H1.16357V14.4832C2.75308 17.6466 6.29829 20.0006 10.2002 20.0006Z" fill="#34A853"/>
                        <path d="M4.48431 11.9097C4.04826 10.6678 4.04826 9.33565 4.48431 8.09375V5.52026H1.16357C-0.297477 8.33708 -0.297477 11.666 1.16357 14.4828L4.48431 11.9097Z" fill="#FBBC04"/>
                        <path d="M10.2002 3.95805C11.6248 3.936 13.0025 4.47247 14.0361 5.45722L16.8911 2.60218C15.1859 0.990984 12.9336 0.0808716 10.2002 0.104384C6.29829 0.104384 2.75308 2.45781 1.16357 5.62135L4.48431 8.1948C5.27451 5.81741 7.53999 3.95805 10.2002 3.95805Z" fill="#EA4335"/>
                    </svg>
                    <span>Google</span>
                </button>
                <button class="social-btn" onclick="handleSocialLogin('apple')">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M15.5156 12.75C15.5469 15.5 17.8125 16.5 17.8438 16.5156C17.8281 16.5781 17.4688 17.9062 16.5469 19.2812C15.75 20.4688 14.9219 21.6406 13.5938 21.6719C12.2969 21.6875 11.875 20.8594 10.3906 20.8594C8.90625 20.8594 8.4375 21.6406 7.20312 21.6719C5.90625 21.6875 5 20.375 4.20312 19.1875C2.57812 16.7656 1.32812 12.3281 3 9.46875C3.8125 8.04688 5.25 7.15625 6.8125 7.14062C8.07812 7.10938 9.26562 7.98438 10.0625 7.98438C10.8594 7.98438 12.2656 6.92188 13.7656 7.07812C14.375 7.10938 16.1875 7.32812 17.4219 8.95312C17.3281 9.01562 15.4844 10.1406 15.5156 12.75ZM12.9062 5.20312C13.5781 4.40625 14.0469 3.29688 13.9219 2.17188C12.9844 2.21875 11.8438 2.84375 11.1406 3.64062C10.5156 4.34375 9.95312 5.48438 10.0938 6.5625C11.1562 6.64062 12.2344 6 12.9062 5.20312Z" fill="black"/>
                    </svg>
                    <span>Apple</span>
                </button>
            </div>

            <div class="divider">
                <span>Or continue with</span>
            </div>

            <form class="form" onsubmit="handleLogin(event)">
                <div class="input-group">
                    <label class="input-label" for="loginEmail">Email Address</label>
                    <div class="input-wrapper">
                        <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                        <input type="email" id="loginEmail" class="input-field" />
                    </div>
                </div>

                <div class="input-group">
                    <label class="input-label" for="loginPassword">Password</label>
                    <div class="input-wrapper">
                        <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                        </svg>
                        <input type="password" id="loginPassword" class="input-field" />
                    </div>
                    <div class="input-helper">
                        <a class="link" onclick="showScreen('forgotPasswordScreen')">Forgot password?</a>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" id="loginBtn">
                    Log In
                </button>
            </form>

            <div class="footer-text">
                <p>Don't have an account? <a class="link" onclick="showScreen('signupScreen')">Sign up</a></p>
            </div>
        </div>
    </div>

    <!-- Signup Screen -->
    <div class="screen signup-screen" id="signupScreen">
        <div class="card">
            <div class="card-header">
                <h1>Create Account</h1>
                <p>Get started with your free account</p>
            </div>

            <div id="signupAlert"></div>

            <div class="social-buttons">
                <button class="social-btn" onclick="handleSocialSignup('google')">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M19.8055 10.2292C19.8055 9.55057 19.7501 8.86849 19.6323 8.19818H10.2002V12.0492H15.6014C15.3775 13.2911 14.6571 14.3898 13.6025 15.0879V17.5866H16.8252C18.7176 15.8449 19.8055 13.2728 19.8055 10.2292Z" fill="#4285F4"/>
                        <path d="M10.2002 20.0006C12.9517 20.0006 15.2726 19.1151 16.8289 17.5865L13.6062 15.0879C12.7102 15.6979 11.5548 16.0433 10.2039 16.0433C7.54363 16.0433 5.28179 14.2834 4.48795 11.9097H1.16357V14.4832C2.75308 17.6466 6.29829 20.0006 10.2002 20.0006Z" fill="#34A853"/>
                        <path d="M4.48431 11.9097C4.04826 10.6678 4.04826 9.33565 4.48431 8.09375V5.52026H1.16357C-0.297477 8.33708 -0.297477 11.666 1.16357 14.4828L4.48431 11.9097Z" fill="#FBBC04"/>
                        <path d="M10.2002 3.95805C11.6248 3.936 13.0025 4.47247 14.0361 5.45722L16.8911 2.60218C15.1859 0.990984 12.9336 0.0808716 10.2002 0.104384C6.29829 0.104384 2.75308 2.45781 1.16357 5.62135L4.48431 8.1948C5.27451 5.81741 7.53999 3.95805 10.2002 3.95805Z" fill="#EA4335"/>
                    </svg>
                    <span>Google</span>
                </button>
                <button class="social-btn" onclick="handleSocialSignup('apple')">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M15.5156 12.75C15.5469 15.5 17.8125 16.5 17.8438 16.5156C17.8281 16.5781 17.4688 17.9062 16.5469 19.2812C15.75 20.4688 14.9219 21.6406 13.5938 21.6719C12.2969 21.6875 11.875 20.8594 10.3906 20.8594C8.90625 20.8594 8.4375 21.6406 7.20312 21.6719C5.90625 21.6875 5 20.375 4.20312 19.1875C2.57812 16.7656 1.32812 12.3281 3 9.46875C3.8125 8.04688 5.25 7.15625 6.8125 7.14062C8.07812 7.10938 9.26562 7.98438 10.0625 7.98438C10.8594 7.98438 12.2656 6.92188 13.7656 7.07812C14.375 7.10938 16.1875 7.32812 17.4219 8.95312C17.3281 9.01562 15.4844 10.1406 15.5156 12.75ZM12.9062 5.20312C13.5781 4.40625 14.0469 3.29688 13.9219 2.17188C12.9844 2.21875 11.8438 2.84375 11.1406 3.64062C10.5156 4.34375 9.95312 5.48438 10.0938 6.5625C11.1562 6.64062 12.2344 6 12.9062 5.20312Z" fill="black"/>
                    </svg>
                    <span>Apple</span>
                </button>
            </div>

            <div class="divider">
                <span>Or continue with</span>
            </div>

            <form class="form" onsubmit="handleSignup(event)">
                <div class="input-group">
                    <label class="input-label" for="signupEmail">Email Address</label>
                    <div class="input-wrapper">
                        <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                        <input type="email" id="signupEmail" class="input-field purple" />
                    </div>
                </div>

                <button type="submit" class="btn btn-primary purple" id="signupBtn">
                    Continue
                </button>
            </form>

            <div class="footer-text">
                <p>Already have an account? <a class="link purple" onclick="showScreen('loginScreen')">Log in</a></p>
            </div>
        </div>
    </div>

    <!-- Forgot Password Screen -->
    <div class="screen forgot-password-screen" id="forgotPasswordScreen">
        <div class="card">
            <button class="back-btn" onclick="showScreen('loginScreen')">
                <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                Back to login
            </button>

            <div class="card-header">
                <h1>Forgot Password?</h1>
                <p id="forgotPasswordText">Enter your email and we'll send you a reset link</p>
            </div>

            <div id="forgotPasswordAlert"></div>

            <form class="form" id="forgotPasswordForm" onsubmit="handleForgotPassword(event)">
                <div class="input-group">
                    <label class="input-label" for="forgotEmail">Email Address</label>
                    <div class="input-wrapper">
                        <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                        <input type="email" id="forgotEmail" class="input-field" />
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" id="forgotPasswordBtn">
                    Send Reset Link
                </button>
            </form>
        </div>
    </div>

    <!-- Verification Screen -->
    <div class="screen verification-screen" id="verificationScreen">
        <div class="card">
            <button class="back-btn" onclick="showScreen('signupScreen')">
                <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                Back
            </button>

            <div class="card-header">
                <h1>Verify Your Email</h1>
                <p>We've sent a 6-digit code to</p>
                <p><strong id="verificationEmail"></strong></p>
                <div class="timer" id="timer">2:00</div>
            </div>

            <div id="verificationAlert"></div>

            <form class="form" onsubmit="handleVerification(event)">
                <div class="verification-inputs">
                    <input type="text" maxlength="1" class="verification-input" id="code1" />
                    <input type="text" maxlength="1" class="verification-input" id="code2" />
                    <input type="text" maxlength="1" class="verification-input" id="code3" />
                    <input type="text" maxlength="1" class="verification-input" id="code4" />
                    <input type="text" maxlength="1" class="verification-input" id="code5" />
                    <input type="text" maxlength="1" class="verification-input" id="code6" />
                </div>

                <button type="submit" class="btn btn-primary purple" id="verificationBtn">
                    Verify Email
                </button>
            </form>

            <div class="footer-text">
                <p>Didn't receive the code? <a class="link purple" id="resendLink" onclick="handleResend()">Resend</a></p>
                <p class="demo-note">Demo code: 123456</p>
            </div>
        </div>
    </div>

    <!-- Password Creation Screen -->
    <div class="screen password-screen" id="passwordScreen">
        <div class="card">
            <button class="back-btn" onclick="showScreen('verificationScreen')">
                <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                Back
            </button>

            <div class="card-header">
                <h1>Create Password</h1>
                <p>Choose a strong password for your account</p>
            </div>

            <div id="passwordAlert"></div>

            <form class="form" onsubmit="handlePasswordCreation(event)">
                <div class="input-group">
                    <label class="input-label" for="password">Password</label>
                    <div class="input-wrapper">
                        <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                        </svg>
                        <input type="password" id="password" class="input-field purple has-right-icon" oninput="updatePasswordStrength()" />
                        <button type="button" class="input-right-icon" onclick="togglePassword('password', 'passwordToggle')">
                            <svg id="passwordToggle" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                            </svg>
                        </button>
                    </div>
                    <div id="passwordStrength" class="password-strength" style="display: none;">
                        <div class="strength-bar">
                            <div id="strengthFill" class="strength-fill"></div>
                        </div>
                        <p id="strengthLabel" class="strength-label"></p>
                    </div>
                </div>

                <div id="requirements" class="requirements" style="display: none;">
                    <p>Password requirements:</p>
                    <div class="requirement unmet" id="req1">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span>At least 8 characters</span>
                    </div>
                    <div class="requirement unmet" id="req2">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span>One lowercase letter</span>
                    </div>
                    <div class="requirement unmet" id="req3">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span>One uppercase letter</span>
                    </div>
                    <div class="requirement unmet" id="req4">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span>One number</span>
                    </div>
                    <div class="requirement unmet" id="req5">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span>One special character</span>
                    </div>
                </div>

                <div class="input-group">
                    <label class="input-label" for="confirmPassword">Confirm Password</label>
                    <div class="input-wrapper">
                        <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                        </svg>
                        <input type="password" id="confirmPassword" class="input-field purple has-right-icon" oninput="checkPasswordMatch()" />
                        <button type="button" class="input-right-icon" onclick="togglePassword('confirmPassword', 'confirmPasswordToggle')">
                            <svg id="confirmPasswordToggle" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                            </svg>
                        </button>
                    </div>
                    <div id="passwordMatch" style="margin-top: 0.5rem; font-size: 0.875rem;"></div>
                </div>

                <button type="submit" class="btn btn-primary purple" id="passwordBtn">
                    Create Account
                </button>
            </form>
        </div>
    </div>

    <!-- Success Screen -->
    <div class="screen success-screen" id="successScreen">
        <div class="card">
            <div class="success-icon">
                <svg fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>
            </div>

            <div class="card-header">
                <h1 id="successTitle">Account Created!</h1>
                <p id="successMessage">Your account has been created successfully. Welcome aboard!</p>
            </div>

            <div style="text-align: center; color: #a855f7; display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 2rem;">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM14 11a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z"/>
                </svg>
                <span>Ready to get started</span>
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM14 11a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z"/>
                </svg>
            </div>

            <button class="btn btn-primary purple" style="background: linear-gradient(to right, #a855f7, #ec4899);">
                Get Started
            </button>
        </div>
    </div>

    <script>
        let currentEmail = '';
        let timerInterval = null;
        let timeLeft = 120;
        let isLoginFlow = false;

        // Screen management
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        // Alert functions
        function showAlert(containerId, type, message) {
            const container = document.getElementById(containerId);
            const iconPath = type === 'error' 
                ? 'M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z'
                : 'M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z';
            
            container.innerHTML = `
                <div class="alert alert-${type}">
                    <svg class="alert-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="${iconPath}" clip-rule="evenodd"/>
                    </svg>
                    <p class="alert-message">${message}</p>
                    <button class="alert-close" onclick="this.parentElement.remove()">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                </div>
            `;
        }

        function clearAlert(containerId) {
            document.getElementById(containerId).innerHTML = '';
        }

        // Loading state
        function setLoading(btnId, isLoading) {
            const btn = document.getElementById(btnId);
            if (isLoading) {
                btn.disabled = true;
                btn.innerHTML = '<div class="spinner"></div>';
            } else {
                btn.disabled = false;
            }
        }

        // Login
        function handleLogin(e) {
            e.preventDefault();
            clearAlert('loginAlert');
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email) {
                showAlert('loginAlert', 'error', 'Please enter your email address');
                return;
            }

            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                showAlert('loginAlert', 'error', 'Please enter a valid email address');
                return;
            }

            if (!password) {
                showAlert('loginAlert', 'error', 'Please enter your password');
                return;
            }

            setLoading('loginBtn', true);
            isLoginFlow = true;

            setTimeout(() => {
                setLoading('loginBtn', false);
                document.getElementById('loginBtn').textContent = 'Log In';
                showAlert('loginAlert', 'success', 'Login successful!');
                setTimeout(() => {
                    showSuccessScreen(true);
                }, 1000);
            }, 1500);
        }

        // Social Login
        function handleSocialLogin(provider) {
            clearAlert('loginAlert');
            const btn = event.target.closest('.social-btn');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<div class="spinner"></div>';
            btn.disabled = true;
            isLoginFlow = true;

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.disabled = false;
                showAlert('loginAlert', 'success', `Login with ${provider} successful!`);
                setTimeout(() => {
                    showSuccessScreen(true);
                }, 1000);
            }, 1500);
        }

        // Signup
        function handleSignup(e) {
            e.preventDefault();
            clearAlert('signupAlert');
            
            const email = document.getElementById('signupEmail').value;

            if (!email) {
                showAlert('signupAlert', 'error', 'Please enter your email address');
                return;
            }

            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                showAlert('signupAlert', 'error', 'Please enter a valid email address');
                return;
            }

            setLoading('signupBtn', true);
            isLoginFlow = false;

            setTimeout(() => {
                setLoading('signupBtn', false);
                document.getElementById('signupBtn').textContent = 'Continue';
                showAlert('signupAlert', 'success', 'Verification code sent to your email!');
                currentEmail = email;
                setTimeout(() => {
                    showVerificationScreen();
                }, 1000);
            }, 1500);
        }

        // Social Signup
        function handleSocialSignup(provider) {
            clearAlert('signupAlert');
            const btn = event.target.closest('.social-btn');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<div class="spinner"></div>';
            btn.disabled = true;
            isLoginFlow = false;

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.disabled = false;
                showAlert('signupAlert', 'success', `Signup with ${provider} successful!`);
                currentEmail = `${provider}@example.com`;
                setTimeout(() => {
                    showVerificationScreen();
                }, 1000);
            }, 1500);
        }

        // Forgot Password
        function handleForgotPassword(e) {
            e.preventDefault();
            clearAlert('forgotPasswordAlert');
            
            const email = document.getElementById('forgotEmail').value;

            if (!email) {
                showAlert('forgotPasswordAlert', 'error', 'Please enter your email address');
                return;
            }

            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                showAlert('forgotPasswordAlert', 'error', 'Please enter a valid email address');
                return;
            }

            setLoading('forgotPasswordBtn', true);

            setTimeout(() => {
                setLoading('forgotPasswordBtn', false);
                document.getElementById('forgotPasswordBtn').textContent = 'Send Reset Link';
                showAlert('forgotPasswordAlert', 'success', 'Password reset link sent to your email!');
                document.getElementById('forgotPasswordText').textContent = 'Check your email for a password reset link';
                document.getElementById('forgotPasswordForm').style.display = 'none';
            }, 1500);
        }

        // Verification Screen
        function showVerificationScreen() {
            document.getElementById('verificationEmail').textContent = currentEmail;
            showScreen('verificationScreen');
            startTimer();
            setupVerificationInputs();
        }

        function setupVerificationInputs() {
            const inputs = document.querySelectorAll('.verification-input');
            inputs.forEach((input, index) => {
                input.addEventListener('input', (e) => {
                    if (e.target.value && index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                });

                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Backspace' && !e.target.value && index > 0) {
                        inputs[index - 1].focus();
                    }
                });

                input.addEventListener('paste', (e) => {
                    e.preventDefault();
                    const pastedData = e.clipboardData.getData('text').slice(0, 6);
                    if (/^\d+$/.test(pastedData)) {
                        pastedData.split('').forEach((char, i) => {
                            if (inputs[i]) inputs[i].value = char;
                        });
                        const nextEmpty = Array.from(inputs).findIndex(inp => !inp.value);
                        if (nextEmpty !== -1) {
                            inputs[nextEmpty].focus();
                        } else {
                            inputs[5].focus();
                        }
                    }
                });
            });

            inputs[0].focus();
        }

        function startTimer() {
            timeLeft = 120;
            updateTimerDisplay();
            
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    document.getElementById('resendLink').style.pointerEvents = 'auto';
                    document.getElementById('resendLink').style.opacity = '1';
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const mins = Math.floor(timeLeft / 60);
            const secs = timeLeft % 60;
            const timer = document.getElementById('timer');
            timer.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
            timer.className = timeLeft <= 30 ? 'timer warning' : 'timer';
            
            document.getElementById('resendLink').style.pointerEvents = timeLeft > 0 ? 'none' : 'auto';
            document.getElementById('resendLink').style.opacity = timeLeft > 0 ? '0.5' : '1';
        }

        function handleResend() {
            if (timeLeft > 0) return;
            
            showAlert('verificationAlert', 'success', 'Verification code resent to your email!');
            startTimer();
        }

        function handleVerification(e) {
            e.preventDefault();
            clearAlert('verificationAlert');

            const code = Array.from({length: 6}, (_, i) => 
                document.getElementById(`code${i+1}`).value
            ).join('');

            if (code.length !== 6) {
                showAlert('verificationAlert', 'error', 'Please enter the complete 6-digit code');
                return;
            }

            setLoading('verificationBtn', true);

            setTimeout(() => {
                setLoading('verificationBtn', false);
                document.getElementById('verificationBtn').textContent = 'Verify Email';
                
                if (code === '123456') {
                    showAlert('verificationAlert', 'success', 'Email verified successfully!');
                    setTimeout(() => {
                        showScreen('passwordScreen');
                        if (timerInterval) clearInterval(timerInterval);
                    }, 1000);
                } else {
                    showAlert('verificationAlert', 'error', 'Invalid verification code. Please try again.');
                    document.querySelectorAll('.verification-input').forEach(input => input.value = '');
                    document.getElementById('code1').focus();
                }
            }, 1500);
        }

        // Password Creation
        function togglePassword(inputId, iconId) {
            const input = document.getElementById(inputId);
            const icon = document.getElementById(iconId);
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.innerHTML = `
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>
                `;
            } else {
                input.type = 'password';
                icon.innerHTML = `
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                `;
            }
        }

        function updatePasswordStrength() {
            const password = document.getElementById('password').value;
            const strengthDiv = document.getElementById('passwordStrength');
            const requirementsDiv = document.getElementById('requirements');
            const strengthFill = document.getElementById('strengthFill');
            const strengthLabel = document.getElementById('strengthLabel');

            if (!password) {
                strengthDiv.style.display = 'none';
                requirementsDiv.style.display = 'none';
                return;
            }

            strengthDiv.style.display = 'block';
            requirementsDiv.style.display = 'block';

            // Calculate strength
            let strength = 0;
            const requirements = [
                { id: 'req1', test: password.length >= 8 },
                { id: 'req2', test: /[a-z]/.test(password) },
                { id: 'req3', test: /[A-Z]/.test(password) },
                { id: 'req4', test: /[0-9]/.test(password) },
                { id: 'req5', test: /[^A-Za-z0-9]/.test(password) }
            ];

            requirements.forEach(req => {
                const elem = document.getElementById(req.id);
                if (req.test) {
                    elem.classList.remove('unmet');
                    elem.classList.add('met');
                    strength++;
                } else {
                    elem.classList.remove('met');
                    elem.classList.add('unmet');
                }
            });

            // Update strength display
            strengthFill.className = 'strength-fill';
            strengthLabel.className = 'strength-label';
            
            if (strength <= 2) {
                strengthFill.classList.add('weak');
                strengthLabel.classList.add('weak');
                strengthLabel.textContent = 'Password strength: Weak';
            } else if (strength <= 4) {
                strengthFill.classList.add('good');
                strengthLabel.classList.add('good');
                strengthLabel.textContent = 'Password strength: Good';
            } else {
                strengthFill.classList.add('strong');
                strengthLabel.classList.add('strong');
                strengthLabel.textContent = 'Password strength: Strong';
            }
        }

        function checkPasswordMatch() {
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const matchDiv = document.getElementById('passwordMatch');

            if (!confirmPassword) {
                matchDiv.innerHTML = '';
                return;
            }

            if (password === confirmPassword) {
                matchDiv.innerHTML = `
                    <div style="color: #16a34a; display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span>Passwords match</span>
                    </div>
                `;
            } else {
                matchDiv.innerHTML = '<span style="color: #dc2626;">Passwords do not match</span>';
            }
        }

        function handlePasswordCreation(e) {
            e.preventDefault();
            clearAlert('passwordAlert');

            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (!password) {
                showAlert('passwordAlert', 'error', 'Please enter a password');
                return;
            }

            // Check strength
            let strength = 0;
            if (password.length >= 8) strength++;
            if (/[a-z]/.test(password)) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^A-Za-z0-9]/.test(password)) strength++;

            if (strength <= 2) {
                showAlert('passwordAlert', 'error', 'Password is too weak. Please create a stronger password.');
                return;
            }

            if (!confirmPassword) {
                showAlert('passwordAlert', 'error', 'Please confirm your password');
                return;
            }

            if (password !== confirmPassword) {
                showAlert('passwordAlert', 'error', 'Passwords do not match. Please try again.');
                return;
            }

            setLoading('passwordBtn', true);

            setTimeout(() => {
                setLoading('passwordBtn', false);
                document.getElementById('passwordBtn').textContent = 'Create Account';
                showAlert('passwordAlert', 'success', 'Account created successfully!');
                setTimeout(() => {
                    showSuccessScreen(false);
                }, 1000);
            }, 1500);
        }

        // Success Screen
        function showSuccessScreen(isLogin) {
            if (isLogin) {
                document.getElementById('successTitle').textContent = 'Welcome Back!';
                document.getElementById('successMessage').textContent = "You've successfully logged in to your account.";
            } else {
                document.getElementById('successTitle').textContent = 'Account Created!';
                document.getElementById('successMessage').textContent = "Your account has been created successfully. Welcome aboard!";
            }
            showScreen('successScreen');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            showScreen('loginScreen');
        });
    </script>
</body>
</html>
